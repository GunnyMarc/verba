<div class="browse-header">
    <span class="browse-title">Select Directory</span>
    <button type="button" class="browse-close" onclick="document.getElementById('browse-modal').style.display='none'">&times;</button>
</div>

<div class="browse-current">{{ current_path }}</div>

<div class="browse-list">
    {% if current_path != parent_path %}
    <a class="browse-item browse-item--parent"
       hx-get="/settings/browse?path={{ parent_path }}&target={{ target }}"
       hx-target="#browse-modal-content"
       hx-swap="innerHTML">..</a>
    {% endif %}

    {% for d in dirs %}
    <a class="browse-item"
       hx-get="/settings/browse?path={{ current_path }}/{{ d }}&target={{ target }}"
       hx-target="#browse-modal-content"
       hx-swap="innerHTML">{{ d }}</a>
    {% endfor %}

    {% if not dirs and current_path == parent_path %}
    <div class="browse-empty">No subdirectories</div>
    {% elif not dirs %}
    <div class="browse-empty">No subdirectories</div>
    {% endif %}
</div>

<div class="browse-actions">
    <button type="button" class="btn btn--primary"
            onclick="document.getElementById(this.dataset.target).value='{{ current_path }}'; document.getElementById('browse-modal').style.display='none'"
            data-target="{{ target }}">Select This Directory</button>
</div>
